"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_project-serum_sol-wallet-adapter_dist_esm_index_js"],{

/***/ "./node_modules/@project-serum/sol-wallet-adapter/dist/esm/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@project-serum/sol-wallet-adapter/dist/esm/index.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Wallet; }\n/* harmony export */ });\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/web3.js */ \"./node_modules/@solana/web3.js/lib/index.browser.esm.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bs58 */ \"./node_modules/bs58/index.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bs58__WEBPACK_IMPORTED_MODULE_2__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass Wallet extends (eventemitter3__WEBPACK_IMPORTED_MODULE_0___default()) {\r\n    constructor(provider, _network) {\r\n        super();\r\n        this._network = _network;\r\n        this._publicKey = null;\r\n        this._popup = null;\r\n        this._handlerAdded = false;\r\n        this._nextRequestId = 1;\r\n        this._autoApprove = false;\r\n        this._responsePromises = new Map();\r\n        this.handleMessage = (e) => {\r\n            var _a;\r\n            if ((this._injectedProvider && e.source === window) ||\r\n                (e.origin === ((_a = this._providerUrl) === null || _a === void 0 ? void 0 : _a.origin) && e.source === this._popup)) {\r\n                if (e.data.method === 'connected') {\r\n                    const newPublicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(e.data.params.publicKey);\r\n                    if (!this._publicKey || !this._publicKey.equals(newPublicKey)) {\r\n                        if (this._publicKey && !this._publicKey.equals(newPublicKey)) {\r\n                            this.handleDisconnect();\r\n                        }\r\n                        this._publicKey = newPublicKey;\r\n                        this._autoApprove = !!e.data.params.autoApprove;\r\n                        this.emit('connect', this._publicKey);\r\n                    }\r\n                }\r\n                else if (e.data.method === 'disconnected') {\r\n                    this.handleDisconnect();\r\n                }\r\n                else if (e.data.result || e.data.error) {\r\n                    const promises = this._responsePromises.get(e.data.id);\r\n                    if (promises) {\r\n                        const [resolve, reject] = promises;\r\n                        if (e.data.result) {\r\n                            resolve(e.data.result);\r\n                        }\r\n                        else {\r\n                            reject(new Error(e.data.error));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this._beforeUnload = () => {\r\n            void this.disconnect();\r\n        };\r\n        if (isInjectedProvider(provider)) {\r\n            this._injectedProvider = provider;\r\n        }\r\n        else if (isString(provider)) {\r\n            this._providerUrl = new URL(provider);\r\n            this._providerUrl.hash = new URLSearchParams({\r\n                origin: window.location.origin,\r\n                network: this._network,\r\n            }).toString();\r\n        }\r\n        else {\r\n            throw new Error('provider parameter must be an injected provider or a URL string.');\r\n        }\r\n    }\r\n    handleConnect() {\r\n        var _a;\r\n        if (!this._handlerAdded) {\r\n            this._handlerAdded = true;\r\n            window.addEventListener('message', this.handleMessage);\r\n            window.addEventListener('beforeunload', this._beforeUnload);\r\n        }\r\n        if (this._injectedProvider) {\r\n            return new Promise((resolve) => {\r\n                void this.sendRequest('connect', {});\r\n                resolve();\r\n            });\r\n        }\r\n        else {\r\n            window.name = 'parent';\r\n            this._popup = window.open((_a = this._providerUrl) === null || _a === void 0 ? void 0 : _a.toString(), '_blank', 'location,resizable,width=460,height=675');\r\n            return new Promise((resolve) => {\r\n                this.once('connect', resolve);\r\n            });\r\n        }\r\n    }\r\n    handleDisconnect() {\r\n        if (this._handlerAdded) {\r\n            this._handlerAdded = false;\r\n            window.removeEventListener('message', this.handleMessage);\r\n            window.removeEventListener('beforeunload', this._beforeUnload);\r\n        }\r\n        if (this._publicKey) {\r\n            this._publicKey = null;\r\n            this.emit('disconnect');\r\n        }\r\n        this._responsePromises.forEach(([, reject], id) => {\r\n            this._responsePromises.delete(id);\r\n            reject(new Error('Wallet disconnected'));\r\n        });\r\n    }\r\n    sendRequest(method, params) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (method !== 'connect' && !this.connected) {\r\n                throw new Error('Wallet not connected');\r\n            }\r\n            const requestId = this._nextRequestId;\r\n            ++this._nextRequestId;\r\n            return new Promise((resolve, reject) => {\r\n                var _a, _b, _c, _d;\r\n                this._responsePromises.set(requestId, [resolve, reject]);\r\n                if (this._injectedProvider) {\r\n                    this._injectedProvider.postMessage({\r\n                        jsonrpc: '2.0',\r\n                        id: requestId,\r\n                        method,\r\n                        params: Object.assign({ network: this._network }, params),\r\n                    });\r\n                }\r\n                else {\r\n                    (_a = this._popup) === null || _a === void 0 ? void 0 : _a.postMessage({\r\n                        jsonrpc: '2.0',\r\n                        id: requestId,\r\n                        method,\r\n                        params,\r\n                    }, (_c = (_b = this._providerUrl) === null || _b === void 0 ? void 0 : _b.origin) !== null && _c !== void 0 ? _c : '');\r\n                    if (!this.autoApprove) {\r\n                        (_d = this._popup) === null || _d === void 0 ? void 0 : _d.focus();\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n    get publicKey() {\r\n        return this._publicKey;\r\n    }\r\n    get connected() {\r\n        return this._publicKey !== null;\r\n    }\r\n    get autoApprove() {\r\n        return this._autoApprove;\r\n    }\r\n    connect() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this._popup) {\r\n                this._popup.close();\r\n            }\r\n            yield this.handleConnect();\r\n        });\r\n    }\r\n    disconnect() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this._injectedProvider) {\r\n                yield this.sendRequest('disconnect', {});\r\n            }\r\n            if (this._popup) {\r\n                this._popup.close();\r\n            }\r\n            this.handleDisconnect();\r\n        });\r\n    }\r\n    sign(data, display) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!(data instanceof Uint8Array)) {\r\n                throw new Error('Data must be an instance of Uint8Array');\r\n            }\r\n            const response = (yield this.sendRequest('sign', {\r\n                data,\r\n                display,\r\n            }));\r\n            const signature = bs58__WEBPACK_IMPORTED_MODULE_2___default().decode(response.signature);\r\n            const publicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(response.publicKey);\r\n            return {\r\n                signature,\r\n                publicKey,\r\n            };\r\n        });\r\n    }\r\n    signTransaction(transaction) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const response = (yield this.sendRequest('signTransaction', {\r\n                message: bs58__WEBPACK_IMPORTED_MODULE_2___default().encode(transaction.serializeMessage()),\r\n            }));\r\n            const signature = bs58__WEBPACK_IMPORTED_MODULE_2___default().decode(response.signature);\r\n            const publicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(response.publicKey);\r\n            transaction.addSignature(publicKey, signature);\r\n            return transaction;\r\n        });\r\n    }\r\n    signAllTransactions(transactions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const response = (yield this.sendRequest('signAllTransactions', {\r\n                messages: transactions.map((tx) => bs58__WEBPACK_IMPORTED_MODULE_2___default().encode(tx.serializeMessage())),\r\n            }));\r\n            const signatures = response.signatures.map((s) => bs58__WEBPACK_IMPORTED_MODULE_2___default().decode(s));\r\n            const publicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(response.publicKey);\r\n            transactions = transactions.map((tx, idx) => {\r\n                tx.addSignature(publicKey, signatures[idx]);\r\n                return tx;\r\n            });\r\n            return transactions;\r\n        });\r\n    }\r\n    diffieHellman(publicKey) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!(publicKey instanceof Uint8Array)) {\r\n                throw new Error('Data must be an instance of Uint8Array');\r\n            }\r\n            const response = (yield this.sendRequest('diffieHellman', {\r\n                publicKey,\r\n            }));\r\n            return response;\r\n        });\r\n    }\r\n}\r\nfunction isString(a) {\r\n    return typeof a === 'string';\r\n}\r\nfunction isInjectedProvider(a) {\r\n    return (isObject(a) && 'postMessage' in a && typeof a.postMessage === 'function');\r\n}\r\nfunction isObject(a) {\r\n    return typeof a === 'object' && a !== null;\r\n}\r\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHByb2plY3Qtc2VydW0vc29sLXdhbGxldC1hZGFwdGVyL2Rpc3QvZXNtL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3Qiw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUN5QztBQUNHO0FBQ3BCO0FBQ1QscUJBQXFCLHNEQUFZO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsc0RBQVM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHdCQUF3QjtBQUN4RSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLDhCQUE4QixrREFBVztBQUN6QyxrQ0FBa0Msc0RBQVM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsa0RBQVc7QUFDcEMsYUFBYTtBQUNiLDhCQUE4QixrREFBVztBQUN6QyxrQ0FBa0Msc0RBQVM7QUFDM0M7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxrREFBVztBQUM5RCxhQUFhO0FBQ2IsOERBQThELGtEQUFXO0FBQ3pFLGtDQUFrQyxzREFBUztBQUMzQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwcm9qZWN0LXNlcnVtL3NvbC13YWxsZXQtYWRhcHRlci9kaXN0L2VzbS9pbmRleC5qcz9kNjM4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudGVtaXR0ZXIzJztcclxuaW1wb3J0IHsgUHVibGljS2V5IH0gZnJvbSAnQHNvbGFuYS93ZWIzLmpzJztcclxuaW1wb3J0IGJzNTggZnJvbSAnYnM1OCc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhbGxldCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm92aWRlciwgX25ldHdvcmspIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX25ldHdvcmsgPSBfbmV0d29yaztcclxuICAgICAgICB0aGlzLl9wdWJsaWNLZXkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9oYW5kbGVyQWRkZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9uZXh0UmVxdWVzdElkID0gMTtcclxuICAgICAgICB0aGlzLl9hdXRvQXBwcm92ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlUHJvbWlzZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlID0gKGUpID0+IHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICBpZiAoKHRoaXMuX2luamVjdGVkUHJvdmlkZXIgJiYgZS5zb3VyY2UgPT09IHdpbmRvdykgfHxcclxuICAgICAgICAgICAgICAgIChlLm9yaWdpbiA9PT0gKChfYSA9IHRoaXMuX3Byb3ZpZGVyVXJsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3JpZ2luKSAmJiBlLnNvdXJjZSA9PT0gdGhpcy5fcG9wdXApKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLm1ldGhvZCA9PT0gJ2Nvbm5lY3RlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQdWJsaWNLZXkgPSBuZXcgUHVibGljS2V5KGUuZGF0YS5wYXJhbXMucHVibGljS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3B1YmxpY0tleSB8fCAhdGhpcy5fcHVibGljS2V5LmVxdWFscyhuZXdQdWJsaWNLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wdWJsaWNLZXkgJiYgIXRoaXMuX3B1YmxpY0tleS5lcXVhbHMobmV3UHVibGljS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHVibGljS2V5ID0gbmV3UHVibGljS2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdXRvQXBwcm92ZSA9ICEhZS5kYXRhLnBhcmFtcy5hdXRvQXBwcm92ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0JywgdGhpcy5fcHVibGljS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlLmRhdGEubWV0aG9kID09PSAnZGlzY29ubmVjdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZS5kYXRhLnJlc3VsdCB8fCBlLmRhdGEuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IHRoaXMuX3Jlc3BvbnNlUHJvbWlzZXMuZ2V0KGUuZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb21pc2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtyZXNvbHZlLCByZWplY3RdID0gcHJvbWlzZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmRhdGEucmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGUuZGF0YS5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlLmRhdGEuZXJyb3IpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fYmVmb3JlVW5sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB2b2lkIHRoaXMuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGlzSW5qZWN0ZWRQcm92aWRlcihwcm92aWRlcikpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5qZWN0ZWRQcm92aWRlciA9IHByb3ZpZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhwcm92aWRlcikpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHJvdmlkZXJVcmwgPSBuZXcgVVJMKHByb3ZpZGVyKTtcclxuICAgICAgICAgICAgdGhpcy5fcHJvdmlkZXJVcmwuaGFzaCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luLFxyXG4gICAgICAgICAgICAgICAgbmV0d29yazogdGhpcy5fbmV0d29yayxcclxuICAgICAgICAgICAgfSkudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncHJvdmlkZXIgcGFyYW1ldGVyIG11c3QgYmUgYW4gaW5qZWN0ZWQgcHJvdmlkZXIgb3IgYSBVUkwgc3RyaW5nLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhhbmRsZUNvbm5lY3QoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIGlmICghdGhpcy5faGFuZGxlckFkZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJBZGRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5oYW5kbGVNZXNzYWdlKTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMuX2JlZm9yZVVubG9hZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9pbmplY3RlZFByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm9pZCB0aGlzLnNlbmRSZXF1ZXN0KCdjb25uZWN0Jywge30pO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5uYW1lID0gJ3BhcmVudCc7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwID0gd2luZG93Lm9wZW4oKF9hID0gdGhpcy5fcHJvdmlkZXJVcmwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1N0cmluZygpLCAnX2JsYW5rJywgJ2xvY2F0aW9uLHJlc2l6YWJsZSx3aWR0aD00NjAsaGVpZ2h0PTY3NScpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25jZSgnY29ubmVjdCcsIHJlc29sdmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGVEaXNjb25uZWN0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVyQWRkZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlckFkZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5oYW5kbGVNZXNzYWdlKTtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMuX2JlZm9yZVVubG9hZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9wdWJsaWNLZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHVibGljS2V5ID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdkaXNjb25uZWN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlUHJvbWlzZXMuZm9yRWFjaCgoWywgcmVqZWN0XSwgaWQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VQcm9taXNlcy5kZWxldGUoaWQpO1xyXG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdXYWxsZXQgZGlzY29ubmVjdGVkJykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2VuZFJlcXVlc3QobWV0aG9kLCBwYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAobWV0aG9kICE9PSAnY29ubmVjdCcgJiYgIXRoaXMuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dhbGxldCBub3QgY29ubmVjdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdElkID0gdGhpcy5fbmV4dFJlcXVlc3RJZDtcclxuICAgICAgICAgICAgKyt0aGlzLl9uZXh0UmVxdWVzdElkO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VQcm9taXNlcy5zZXQocmVxdWVzdElkLCBbcmVzb2x2ZSwgcmVqZWN0XSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5qZWN0ZWRQcm92aWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luamVjdGVkUHJvdmlkZXIucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqc29ucnBjOiAnMi4wJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3RJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IE9iamVjdC5hc3NpZ24oeyBuZXR3b3JrOiB0aGlzLl9uZXR3b3JrIH0sIHBhcmFtcyksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl9wb3B1cCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIChfYyA9IChfYiA9IHRoaXMuX3Byb3ZpZGVyVXJsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iub3JpZ2luKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmF1dG9BcHByb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChfZCA9IHRoaXMuX3BvcHVwKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0IHB1YmxpY0tleSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcHVibGljS2V5O1xyXG4gICAgfVxyXG4gICAgZ2V0IGNvbm5lY3RlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcHVibGljS2V5ICE9PSBudWxsO1xyXG4gICAgfVxyXG4gICAgZ2V0IGF1dG9BcHByb3ZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRvQXBwcm92ZTtcclxuICAgIH1cclxuICAgIGNvbm5lY3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BvcHVwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuaGFuZGxlQ29ubmVjdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZGlzY29ubmVjdCgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faW5qZWN0ZWRQcm92aWRlcikge1xyXG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnZGlzY29ubmVjdCcsIHt9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9wdXApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzaWduKGRhdGEsIGRpc3BsYXkpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAoIShkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFVpbnQ4QXJyYXknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9ICh5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdzaWduJywge1xyXG4gICAgICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgICAgIGRpc3BsYXksXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYnM1OC5kZWNvZGUocmVzcG9uc2Uuc2lnbmF0dXJlKTtcclxuICAgICAgICAgICAgY29uc3QgcHVibGljS2V5ID0gbmV3IFB1YmxpY0tleShyZXNwb25zZS5wdWJsaWNLZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc2lnbmF0dXJlLFxyXG4gICAgICAgICAgICAgICAgcHVibGljS2V5LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2lnblRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSAoeWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnc2lnblRyYW5zYWN0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYnM1OC5lbmNvZGUodHJhbnNhY3Rpb24uc2VyaWFsaXplTWVzc2FnZSgpKSxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBjb25zdCBzaWduYXR1cmUgPSBiczU4LmRlY29kZShyZXNwb25zZS5zaWduYXR1cmUpO1xyXG4gICAgICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSBuZXcgUHVibGljS2V5KHJlc3BvbnNlLnB1YmxpY0tleSk7XHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmFkZFNpZ25hdHVyZShwdWJsaWNLZXksIHNpZ25hdHVyZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNpZ25BbGxUcmFuc2FjdGlvbnModHJhbnNhY3Rpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSAoeWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnc2lnbkFsbFRyYW5zYWN0aW9ucycsIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiB0cmFuc2FjdGlvbnMubWFwKCh0eCkgPT4gYnM1OC5lbmNvZGUodHguc2VyaWFsaXplTWVzc2FnZSgpKSksXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgY29uc3Qgc2lnbmF0dXJlcyA9IHJlc3BvbnNlLnNpZ25hdHVyZXMubWFwKChzKSA9PiBiczU4LmRlY29kZShzKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IG5ldyBQdWJsaWNLZXkocmVzcG9uc2UucHVibGljS2V5KTtcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb25zID0gdHJhbnNhY3Rpb25zLm1hcCgodHgsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHguYWRkU2lnbmF0dXJlKHB1YmxpY0tleSwgc2lnbmF0dXJlc1tpZHhdKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbnM7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBkaWZmaWVIZWxsbWFuKHB1YmxpY0tleSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghKHB1YmxpY0tleSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBVaW50OEFycmF5Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSAoeWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnZGlmZmllSGVsbG1hbicsIHtcclxuICAgICAgICAgICAgICAgIHB1YmxpY0tleSxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNTdHJpbmcoYSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBhID09PSAnc3RyaW5nJztcclxufVxyXG5mdW5jdGlvbiBpc0luamVjdGVkUHJvdmlkZXIoYSkge1xyXG4gICAgcmV0dXJuIChpc09iamVjdChhKSAmJiAncG9zdE1lc3NhZ2UnIGluIGEgJiYgdHlwZW9mIGEucG9zdE1lc3NhZ2UgPT09ICdmdW5jdGlvbicpO1xyXG59XHJcbmZ1bmN0aW9uIGlzT2JqZWN0KGEpIHtcclxuICAgIHJldHVybiB0eXBlb2YgYSA9PT0gJ29iamVjdCcgJiYgYSAhPT0gbnVsbDtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@project-serum/sol-wallet-adapter/dist/esm/index.js\n");

/***/ })

}]);