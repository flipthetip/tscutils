"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.withArrays = exports.defaultWithArraysCompare = void 0;
function defaultWithArraysCompare(obj, item, key) {
    return obj[key] === String(item[key]);
}
exports.defaultWithArraysCompare = defaultWithArraysCompare;
function withArrays(groups, item, key, options) {
    const exists = groups.find((items) => items.find((_item) => {
        return options.compare(_item, item, key);
    }));
    if (!exists) {
        groups.push([item]);
        return groups;
    }
    const index = groups.indexOf(exists);
    if (options.maxByGroup && groups[index].length >= options.maxByGroup)
        return;
    groups[index].push(item);
}
exports.withArrays = withArrays;
